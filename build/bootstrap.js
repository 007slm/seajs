/*
Copyright 2011, SeaJS v0.1.0
MIT Licensed
build time: Jan 13 14:54
*/
var S=S||{};S.version="0.1.0";S.global=this;S.DEBUG=false;S.log=function(e,h){if(S.DEBUG){var g=S.global.console;if(g&&g.log)g[h&&g[h]?h:"log"](e)}};S.error=function(e){if(S.DEBUG)throw e;};S.type=function(){for(var e=["Boolean","Number","String","Function","Array","Date","RegExp","Object"],h={},g=0;g<e.length;g++){var l=e[g];h["[object "+l+"]"]=l.toLowerCase()}return function(p){return p==null?String(p):h[Object.prototype.toString.call(p)]||"object"}}();
S.isString=function(e){return S.type(e)==="string"};S.isFunction=function(e){return S.type(e)==="function"};S.isArray=Array.isArray?Array.isArray:function(e){return S.type(e)==="array"};S.mix=function(e,h){for(var g in h)if(h.hasOwnProperty(g))e[g]=h[g];return e};S.indexOf=Array.prototype.indexOf?function(e,h){return e.indexOf(h)}:function(e,h){for(var g=0,l=e.length;g<l;g++)if(e[g]===h)return g;return-1};S.inArray=function(e,h){return S.indexOf(e,h)>-1};S.now=Date.now||function(){return(new Date).getTime()};
(function(){function e(a){for(var b=[],c=0,d=a.length,f;c<d;c++){f=a[c];n[o(f)]||b.push(f)}return b}function h(a){a=a||{deps:[]};return function(b){var c;if(!g(a.deps.parent,b)){if(!S.inArray(a.deps,b)||!(c=n[o(b)]))return S.error("Module "+b+" is not provided.");if(!c.exports){var d=b=c,f=a,i=d.factory,j=i;if(S.isFunction(i)){j={};var q=d.dependencies.concat();q.parent=f.deps;if(d=i.call(d,new h({deps:q}),j,d))j=d;j=j}b.exports=j||{}}return c.exports}}}function g(a,b){if(!a||a.length===0)return false;
if(S.inArray(a,b))return true;if(a.parent)return g(a.parent,b);return false}function l(a,b,c){function d(){if(b)b(c?undefined:new h({deps:a}))}a=e(a);if(a.length===0)return d();for(var f=a.length,i=0,j=f;i<j;i++)(function(q){p(q,function(){var t=(n[o(q)]||0).dependencies||[];t=e(t);var v=t.length;if(v){f+=v;l(t,function(){f-=v;f===0&&d()},true)}--f===0&&d()})})(a[i])}function p(a,b){function c(){if(m){var f=a,i=m;i.id=f;n[o(f)]=i;m=null}b&&b();r[d]&&delete r[d]}m=null;var d=o(a);if(r[d])w(r[d],c);
else{if(x)s={id:a,timestamp:S.now()};r[d]=z(d,c)}}function z(a,b){var c=document.createElement("script");w(c,function(){b&&b.call(c);try{if(c.clearAttributes)c.clearAttributes();else for(var d in c)delete c[d]}catch(f){}u.removeChild(c)});c.async=true;c.src=a;return u.insertBefore(c,u.firstChild)}function w(a,b){a.addEventListener("load",b,false)}function o(a){if(a===""||a.indexOf("://")!==-1)return a;if(a.charAt(0)==="/")a=a.substring(1);a=y+"/"+a;var b=a.split("/"),c=[],d,f,i;f=0;for(i=b.length;f<
i;f++){d=b[f];if(d==".."){c.length===0&&S.error("Invalid module path: "+a);c.pop()}else d!=="."&&c.push(d)}return c.join("/")+".js"}var r={},m=null,x=!+"\v1",s=null,n={},k=document.getElementsByTagName("script");k=k[k.length-1];var y=function(a){return(a=a.split("/").slice(0,-1).join("/"))?a:"."}(k.hasAttribute?k.src:k.getAttribute("src",4));k=k.getAttribute("data-main");var u=document.getElementsByTagName("head")[0];if(x)w=function(a,b){a.attachEvent("onreadystatechange",function(){var c=a.readyState;
if(c==="loaded"||c==="complete")b&&b.call(this)})};k&&l([k]);S.declare=function(a,b,c){if(S.isArray(a)){c=b;b=a;a=""}if(S.isFunction(a)){c=a;b=[];a=""}if(!a&&x){var d;a:{d=u.getElementsByTagName("script");for(var f,i=0,j=d.length;i<j;i++){f=d[i];if(f.readyState==="interactive"){d=f;break a}}d=void 0}if(d)a=d.src.replace(y+"/","").replace(".js","");else if(s){if(S.now()-s.timestamp<10)a=s.id;s=null}}b={dependencies:b,factory:c};if(a){a=a;b.id=a;n[o(a)]=b;m=null}else m=b};S.provide=l;S.reset=function(a){m=
null;n={};if(a)y=a}})();
