/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(r){function D(a){for(var c=[],b=0,d=a.length,e;b<d;b++){e=a[b];n[e]||c.push(e)}return c}function v(a,c){if(typeof a==="string")a=[a];E.call(this,a,function(b){for(var d=[],e,f=0,j=a.length;f<j;f++){e=b(a[f]);if(F(e))d=d.concat(e);else d.push(e)}c&&c.apply(r,d)})}function E(a,c,b){function d(){if(c)c(b?undefined:G.call(f,{deps:j}))}function e(s){var k;if(f!==r)k=f.uri;return w(s,k)}var f=this,j=e(a);a=D(j);if(a.length===0)return d();for(var i=0,h=a.length,t=h;i<h;i++)(function(s){O(s,function(){var k=
(n[s]||0).dependencies||[],x=k.length;if(x){k=D(e(k));t+=x;E(k,function(){t-=x;t===0&&d()},true)}--t===0&&d()})})(a[i])}function O(a,c){function b(){var d=o.length,e=0,f,j=a,i,h=a.indexOf("-pkg")!==-1;if(d){for(;e<d;e++){i=o[e];f=i.id;delete i.id;if(f&&h)j=H(f,a);f=j;i.dependencies=w(i.dependencies,f,i.prefix);n[f]=i}o=[]}p[a]&&delete p[a];c&&c()}if(p[a])y(p[a],b);else{if(z)q={uri:a,timestamp:I()};p[a]=P(a+".js"+(J[a]||""),b)}}function P(a,c){var b=document.createElement("script");y(b,function(){c&&
c.call(b);try{if(b.clearAttributes)b.clearAttributes();else for(var d in b)delete b[d]}catch(e){}u.removeChild(b)});b.async=true;b.src=a;return u.insertBefore(b,u.firstChild)}function y(a,c){a.addEventListener("load",c,false);a.addEventListener("error",function(){c()},false)}function Q(){if(A&&A.readyState==="interactive")return A;for(var a=u.getElementsByTagName("script"),c,b=0,d=a.length;b<d;b++){c=a[b];if(c.readyState==="interactive")return c}return null}function G(a){function c(b){var d=B(b,a.uri,
a.prefix),e,f=a.deps;e=[];for(var j,i=0;j=f[i++];)if(l[j])e=e.concat(l[j]);else e.push(j);var h;if(f=l[d]){h=[];d=0;for(b=f.length;d<b;d++)h[d]=c(f[d]);return h}if(R(e,d)===-1||!(h=n[d]))throw"Invalid module id: "+b;if(K(a,d))return h.exports;if(!h.exports){b=h;d={uri:d,deps:h.dependencies,prefix:h.prefix,parent:a};f=b.factory;delete b.factory;b.uri=d.uri;b.exports={};b.load=v;if(C.call(f)==="[object Function]"){if(d=f(G(d),b.exports,b))b.exports=d}else b.exports=f||{}}return h.exports}if(this!==
r)a.uri=this.uri;return c}function K(a,c){if(a.uri===c)return true;if(a.parent)return K(a.parent,c);return false}function H(a,c){var b=B("./"+a,c);l[c]=l[c]||[];l[c].push(b);return b}function L(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function B(a,c,b){if(b){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(S.call(b,e))a=b[e]+a.substring(d)}}if(a.indexOf("://")!==-1)c=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){c=L(c||M)+a;b=c.split("/");a=[];var f;e=
0;for(f=b.length;e<f;e++){d=b[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+c;a.pop()}else d!=="."&&a.push(d)}c=a.join("/")}else c=a.indexOf("/")===0?(c||M).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:N+a;c=b=c;if(b=b.match(/^([^?]+)(\?.*)$/)){c=b[1];J[c]=b[2]}return c}function w(a,c,b){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=B(a[e],c,b);return d}var C=Object.prototype.toString,S=Object.prototype.hasOwnProperty,F=Array.isArray?Array.isArray:function(a){return C.call(a)==="[object Array]"},
R=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1},I=Date.now||function(){return(new Date).getTime()},p={},o=[],q=null,z=!+"\v1",m=null,n={},u=document.getElementsByTagName("head")[0];if(z)y=function(a,c){a.attachEvent("onreadystatechange",function(){var b=a.readyState;if(b==="loaded"||b==="complete")c()})};var A=null,l={},g=r.location,M=g.protocol+"//"+g.host+g.pathname,J={};g=document.getElementsByTagName("script");
g=g[g.length-1];var N=L(g.hasAttribute?g.src:g.getAttribute("src",4));if(g=g.getAttribute("data-main")){if(g.indexOf("~/")===0)g=N.replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+g.substring(1);v([g])}module.prefix=function(a,c){m=m||{};m[a]=c;return this};module.declare=function(a,c,b){if(F(a)){b=c;c=a;a=""}else if(C.call(a)==="[object Function]"){b=a;a=b.toString();c=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=c.exec(a);)e[1]&&d.push(e[1]);c=d;a=""}b={dependencies:c,factory:b};var f;if(m){b.prefix=
m;m=null}if(z){if(c=Q())f=(c.hasAttribute?c.src:c.getAttribute("src",4)).replace(".js","");else if(q)if(I()-q.timestamp<10)f=q.uri;q=null}if(f){c=f;if(a&&f.indexOf("-pkg")!==-1)c=H(a,f);f=c;b.dependencies=w(b.dependencies,f,b.prefix);n[f]=b;o=[]}else{b.id=a;o.push(b)}};module.load=v})(this);
