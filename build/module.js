/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(A){function B(a){for(var c=[],b=0,d=a.length,e;b<d;b++){e=a[b];m[e]||c.push(e)}return c}function t(a,c){C(a,function(b){for(var d=[],e,f=0,j=a.length;f<j;f++){e=b(a[f]);if(D(e))d=d.concat(e);else d.push(e)}c&&c.apply(A,d)})}function C(a,c,b){function d(){if(c)c(b?undefined:E({deps:e}))}var e=q(a);a=B(e);if(a.length===0)return d();for(var f=0,j=a.length,i=j;f<j;f++)(function(h){M(h,function(){var r=(m[h]||0).dependencies||[],u=r.length;if(u){r=B(q(r));i+=u;C(r,function(){i-=u;i===0&&d()},
true)}--i===0&&d()})})(a[f])}function M(a,c){function b(){var d=n.length,e=0,f,j=a,i,h=a.indexOf("-pkg")!==-1;if(d){for(;e<d;e++){i=n[e];f=i.id;delete i.id;if(f&&h)j=F(f,a);f=j;i.dependencies=q(i.dependencies,f,i.prefix);m[f]=i}n=[]}o[a]&&delete o[a];c&&c()}if(o[a])v(o[a],b);else{if(w)p={uri:a,timestamp:G()};o[a]=N(a+".js"+(H[a]||""),b)}}function N(a,c){var b=document.createElement("script");v(b,function(){c&&c.call(b);try{if(b.clearAttributes)b.clearAttributes();else for(var d in b)delete b[d]}catch(e){}s.removeChild(b)});
b.async=true;b.src=a;return s.insertBefore(b,s.firstChild)}function v(a,c){a.addEventListener("load",c,false);a.addEventListener("error",function(){c()},false)}function O(){if(x&&x.readyState==="interactive")return x;for(var a=s.getElementsByTagName("script"),c,b=0,d=a.length;b<d;b++){c=a[b];if(c.readyState==="interactive")return c}return null}function E(a){function c(b){var d=y(b,a.uri,a.prefix),e,f=a.deps;e=[];for(var j,i=0;j=f[i++];)if(k[j])e=e.concat(k[j]);else e.push(j);var h;if(f=k[d]){h=[];
d=0;for(b=f.length;d<b;d++)h[d]=c(f[d]);return h}if(P(e,d)===-1||!(h=m[d]))throw"Invalid module id: "+b;if(I(a,d))return h.exports;if(!h.exports){b=h;d={uri:d,deps:h.dependencies,prefix:h.prefix,parent:a};f=b.factory;delete b.factory;if(z.call(f)==="[object Function]"){if(d=f(E(d),b.exports={},(b.load=t,b)))b.exports=d}else b.exports=f||{}}return h.exports}return c}function I(a,c){if(a.uri===c)return true;if(a.parent)return I(a.parent,c);return false}function F(a,c){var b=y("./"+a,c);k[c]=k[c]||[];
k[c].push(b);return b}function J(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function y(a,c,b){if(b){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(Q.call(b,e))a=b[e]+a.substring(d)}}if(a.indexOf("://")!==-1)c=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){c=J(c||K)+a;b=c.split("/");a=[];var f;e=0;for(f=b.length;e<f;e++){d=b[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+c;a.pop()}else d!=="."&&a.push(d)}c=a.join("/")}else c=a.indexOf("/")===
0?(c||K).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:L+a;c=b=c;if(b=b.match(/^([^?]+)(\?.*)$/)){c=b[1];H[c]=b[2]}return c}function q(a,c,b){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=y(a[e],c,b);return d}var z=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,D=Array.isArray?Array.isArray:function(a){return z.call(a)==="[object Array]"},P=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1},G=Date.now||function(){return(new Date).getTime()},
o={},n=[],p=null,w=!+"\v1",l=null,m={},s=document.getElementsByTagName("head")[0];if(w)v=function(a,c){a.attachEvent("onreadystatechange",function(){var b=a.readyState;if(b==="loaded"||b==="complete")c()})};var x=null,k={},g=A.location,K=g.protocol+"//"+g.host+g.pathname,H={};g=document.getElementsByTagName("script");g=g[g.length-1];var L=J(g.hasAttribute?g.src:g.getAttribute("src",4));if(g=g.getAttribute("data-main")){if(g.indexOf("://")===-1&&g.indexOf("./")===-1&&g.charAt(0)!=="/")g=L.replace(/^(\w+:\/\/[^/]+)\/?.*$/,
"$1")+"/"+g;t([g])}module.prefix=function(a,c){l=l||{};l[a]=c;return this};module.declare=function(a,c,b){if(D(a)){b=c;c=a;a=""}else if(z.call(a)==="[object Function]"){b=a;a=b.toString();c=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=c.exec(a);)e[1]&&d.push(e[1]);c=d;a=""}b={dependencies:c,factory:b};var f;if(l){b.prefix=l;l=null}if(w){if(c=O())f=(c.hasAttribute?c.src:c.getAttribute("src",4)).replace(".js","");else if(p)if(G()-p.timestamp<10)f=p.uri;p=null}if(f){c=f;if(a&&f.indexOf("-pkg")!==
-1)c=F(a,f);f=c;b.dependencies=q(b.dependencies,f,b.prefix);m[f]=b;n=[]}else{b.id=a;n.push(b)}};module.load=t})(this);
