/*
Copyright 2011, SeaJS v0.9.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.9.0dev";
(function(t){function D(a){for(var c=[],b=0,d=a.length,f;b<d;b++){f=a[b];n[f]||c.push(f)}return c}function w(a,c){if(o.call(a)==="[object String]")a=[a];for(var b=0,d=a.length;b<d;b++)a[b]=a[b].replace(".js","");E.call(this,a,function(f){for(var e=[],i,g=0,h=a.length;g<h;g++){try{i=f(a[g])}catch(p){i=null}if(c){if(F(i))e=e.concat(i);else e.push(i);c.apply(t,e)}}});return this}function E(a,c,b){function d(){if(c)c(b?undefined:G.call(e,{deps:i}))}function f(u){var k;if(e!==t)k=e.uri;return x(u,k)}var e=
this,i=f(a);a=D(i);if(a.length===0)return d();for(var g=0,h=a.length,p=h;g<h;g++)(function(u){O(u,function(){var k=(n[u]||0).dependencies||[],y=k.length;if(y){k=D(f(k));p+=y;E(k,function(){p-=y;p===0&&d()},true)}--p===0&&d()})})(a[g])}function O(a,c){function b(){var d=q.length,f=0,e,i=a,g,h=a.indexOf("-pkg")!==-1;if(d){for(;f<d;f++){g=q[f];e=g.id;delete g.id;if(e&&h)i=H(e,a);e=i;g.dependencies=x(g.dependencies,e,g.prefix);n[e]=g}q=[]}r[a]&&delete r[a];c&&c()}if(r[a])z(r[a],b);else{if(A)s={uri:a,
timestamp:I()};r[a]=P(a+".js"+(J[a]||""),b)}}function P(a,c){var b=document.createElement("script");z(b,function(){c&&c.call(b);try{if(b.clearAttributes)b.clearAttributes();else for(var d in b)delete b[d]}catch(f){}v.removeChild(b)});b.async=true;b.src=a;return v.insertBefore(b,v.firstChild)}function z(a,c){a.addEventListener("load",c,false);a.addEventListener("error",function(){c()},false)}function Q(){if(B&&B.readyState==="interactive")return B;for(var a=v.getElementsByTagName("script"),c,b=0,d=
a.length;b<d;b++){c=a[b];if(c.readyState==="interactive")return c}return null}function G(a){function c(b){var d=C(b,a.uri,a.prefix),f,e=a.deps;f=[];for(var i,g=0;i=e[g++];)if(l[i])f=f.concat(l[i]);else f.push(i);var h;if(e=l[d]){h=[];d=0;for(b=e.length;d<b;d++)h[d]=c(e[d]);return h}if(R(f,d)===-1||!(h=n[d]))throw"Invalid module: "+b;if(K(a,d))return h.exports;if(!h.exports){b=h;d={uri:d,deps:h.dependencies,prefix:h.prefix,parent:a};e=b.factory;delete b.factory;b.uri=d.uri;b.exports={};b.load=w;if(o.call(e)===
"[object Function]"){if(d=e(G(d),b.exports,b))b.exports=d}else b.exports=e||{}}return h.exports}if(this!==t)a.uri=this.uri;return c}function K(a,c){if(a.uri===c)return true;if(a.parent)return K(a.parent,c);return false}function H(a,c){var b=C("./"+a,c);l[c]=l[c]||[];l[c].push(b);return b}function L(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function C(a,c,b){if(b){var d=a.indexOf("/");if(d>0){var f=a.substring(0,d);if(S.call(b,f))a=b[f]+a.substring(d)}}if(a.indexOf("://")!==
-1)c=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){c=L(c||M)+a;b=c.split("/");a=[];var e;f=0;for(e=b.length;f<e;f++){d=b[f];if(d==".."){if(a.length===0)throw"Invalid module path: "+c;a.pop()}else d!=="."&&a.push(d)}c=a.join("/")}else c=a.indexOf("/")===0?(c||M).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:N+a;c=b=c;if(b=b.match(/^([^?]+)(\?.*)$/)){c=b[1];J[c]=b[2]}return c}function x(a,c,b){for(var d=[],f=0,e=a.length;f<e;f++)d[f]=C(a[f],c,b);return d}var o=Object.prototype.toString,S=Object.prototype.hasOwnProperty,
F=Array.isArray?Array.isArray:function(a){return o.call(a)==="[object Array]"},R=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1},I=Date.now||function(){return(new Date).getTime()},r={},q=[],s=null,A=!+"\v1",m=null,n={},v=document.getElementsByTagName("head")[0];if(A)z=function(a,c){a.attachEvent("onreadystatechange",function(){var b=a.readyState;if(b==="loaded"||b==="complete")c()})};var B=null,l={},j=t.location,
M=j.protocol+"//"+j.host+j.pathname,J={};j=document.getElementsByTagName("script");j=j[j.length-1];var N=L(j.hasAttribute?j.src:j.getAttribute("src",4));if(j=j.getAttribute("data-main")){if(j.indexOf("~/")===0)j=N.replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+j.substring(1);w([j])}module.prefix=function(a,c){m=m||{};m[a]=c;return this};module.declare=function(a,c,b){if(F(a)){b=c;c=a;a=""}else if(o.call(a)!=="[object String]"){b=a;if(o.call(b)==="[object Function]"){a=b.toString();c=/\brequire\s*\(\s*['"]?([^'")]*)/g;
for(var d=[],f;f=c.exec(a);)f[1]&&d.push(f[1]);c=d}a=""}b={dependencies:c||[],factory:b};var e;if(m){b.prefix=m;m=null}if(A){if(c=Q())e=(c.hasAttribute?c.src:c.getAttribute("src",4)).replace(".js","");else if(s)if(I()-s.timestamp<10)e=s.uri;s=null}if(e){c=e;if(a&&e.indexOf("-pkg")!==-1)c=H(a,e);e=c;b.dependencies=x(b.dependencies,e,b.prefix);n[e]=b;q=[]}else{b.id=a;q.push(b)}};module.load=w})(this);
