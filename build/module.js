/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(y){function z(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];j[e]||b.push(e)}return b}function s(a,b){A(a,function(c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=c(a[e]);b&&b.apply(y,d)})}function A(a,b,c){function d(){if(b)b(c?undefined:B({deps:e}))}var e=o(a);a=z(e);if(a.length===0)return d();for(var f=0,k=a.length,h=k;f<k;f++)(function(C){K(C,function(){var p=(j[C]||0).dependencies||[],t=p.length;if(t){p=z(o(p));h+=t;A(p,function(){h-=t;h===0&&d()},true)}--h===0&&d()})})(a[f])}function D(a,
b,c){if(L(a)){c=b;b=a;a=""}else if(u.call(a)==="[object Function]"){c=a;a=c.toString();b=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=b.exec(a);)e[1]&&d.push(e[1]);b=d;a=""}c={dependencies:b,factory:c};var f;if(i){c.prefix=i;i=null}if(v){if(b=M())f=b.hasAttribute?b.src:b.getAttribute("src",4);else if(l)if(E()-l.timestamp<N)f=l.uri;l=null}if(f){if(a)f=q("./"+a,f);c.dependencies=o(c.dependencies,f,c.prefix);j[f]=c;m=[]}else{c.id=a;m.push(c)}}function K(a,b){function c(){var d=m.length,e=0,f,
k=a,h;if(d){for(;e<d;e++){h=m[e];f=h.id;delete h.id;if(f)k=q("./"+f,a);f=k;h.dependencies=o(h.dependencies,f,h.prefix);j[f]=h}m=[]}n[a]&&delete n[a];b&&b()}if(n[a])w(n[a],c);else{if(v)l={uri:a,timestamp:E()};n[a]=O(a+".js"+(F[a]||""),c)}}function O(a,b){var c=document.createElement("script");w(c,function(){b&&b.call(c);try{if(c.clearAttributes)c.clearAttributes();else for(var d in c)delete c[d]}catch(e){}r.removeChild(c)});c.async=true;c.src=a;return r.insertBefore(c,r.firstChild)}function w(a,b){a.addEventListener("load",
b,false);a.addEventListener("error",function(){b()},false)}function M(){if(x&&x.readyState==="interactive")return x;for(var a=r.getElementsByTagName("script"),b,c=0,d=a.length;c<d;c++){b=a[c];if(b.readyState==="interactive")return b}return null}function B(a){return function(b){var c=q(b,a.uri,a.prefix),d;if(P(a.deps,c)===-1||!(d=j[c]))throw"Invalid module id: "+b;if(G(a,c))return d.exports;if(!d.exports){b=d;c={uri:c,deps:d.dependencies,prefix:d.prefix,parent:a};var e=b.factory;delete b.factory;if(u.call(e)===
"[object Function]"){if(c=e(B(c),b.exports={},(b.declare=D,b.load=s,b)))b.exports=c}else b.exports=e||{}}return d.exports}}function G(a,b){if(a.uri===b)return true;if(a.parent)return G(a.parent,b);return false}function H(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function q(a,b,c){if(c){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(Q.call(c,e))a=c[e]+a.substring(d)}}if(a.indexOf("://")!==-1)b=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){b=H(b||I)+a;c=
b.split("/");a=[];var f;e=0;for(f=c.length;e<f;e++){d=c[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+b;a.pop()}else d!=="."&&a.push(d)}b=a.join("/")}else b=a.indexOf("/")===0?(b||I).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:J+a;b=c=b;if(c=c.match(/^([^?]+)(\?.*)$/)){b=c[1];F[b]=c[2]}return b}function o(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=q(a[e],b,c);return d}var u=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,L=Array.isArray?Array.isArray:function(a){return u.call(a)===
"[object Array]"},P=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},E=Date.now||function(){return(new Date).getTime()},n={},m=[],l=null,N=10,v=!+"\v1",i=null,j={},r=document.getElementsByTagName("head")[0];if(v)w=function(a,b){a.attachEvent("onreadystatechange",function(){var c=a.readyState;if(c==="loaded"||c==="complete")b()})};var x=null,g=y.location,I=g.protocol+"//"+g.host+g.pathname,F={};g=document.getElementsByTagName("script");
g=g[g.length-1];var J=H(g.hasAttribute?g.src:g.getAttribute("src",4));if(g=g.getAttribute("data-main")){if(g.indexOf("://")===-1&&g.indexOf("./")===-1&&g.charAt(0)!=="/")g=J.replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+"/"+g;s([g])}module.prefix=function(a,b){i=i||{};i[a]=b;return this};module.declare=D;module.load=s})(this);
