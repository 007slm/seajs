/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(A){function B(a){for(var c=[],b=0,d=a.length,e;b<d;b++){e=a[b];m[e]||c.push(e)}return c}function t(a,c){C(a,function(b){for(var d=[],e,f=0,j=a.length;f<j;f++){e=b(a[f]);if(D(e))d=d.concat(e);else d.push(e)}c&&c.apply(A,d)})}function C(a,c,b){function d(){if(c)c(b?undefined:E({deps:e}))}var e=q(a);a=B(e);if(a.length===0)return d();for(var f=0,j=a.length,i=j;f<j;f++)(function(h){N(h,function(){var r=(m[h]||0).dependencies||[],u=r.length;if(u){r=B(q(r));i+=u;C(r,function(){i-=u;i===0&&d()},
true)}--i===0&&d()})})(a[f])}function F(a,c,b){if(D(a)){b=c;c=a;a=""}else if(v.call(a)==="[object Function]"){b=a;a=b.toString();c=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=c.exec(a);)e[1]&&d.push(e[1]);c=d;a=""}b={dependencies:c,factory:b};var f;if(k){b.prefix=k;k=null}if(w){if(c=O())f=(c.hasAttribute?c.src:c.getAttribute("src",4)).replace(".js","");else if(n)if(G()-n.timestamp<P)f=n.uri;n=null}if(f){c=f;if(a&&f.indexOf("-pkg")!==-1)c=H(a,f);f=c;b.dependencies=q(b.dependencies,f,b.prefix);
m[f]=b;o=[]}else{b.id=a;o.push(b)}}function N(a,c){function b(){var d=o.length,e=0,f,j=a,i,h=a.indexOf("-pkg")!==-1;if(d){for(;e<d;e++){i=o[e];f=i.id;delete i.id;if(f&&h)j=H(f,a);f=j;i.dependencies=q(i.dependencies,f,i.prefix);m[f]=i}o=[]}p[a]&&delete p[a];c&&c()}if(p[a])x(p[a],b);else{if(w)n={uri:a,timestamp:G()};p[a]=Q(a+".js"+(I[a]||""),b)}}function Q(a,c){var b=document.createElement("script");x(b,function(){c&&c.call(b);try{if(b.clearAttributes)b.clearAttributes();else for(var d in b)delete b[d]}catch(e){}s.removeChild(b)});
b.async=true;b.src=a;return s.insertBefore(b,s.firstChild)}function x(a,c){a.addEventListener("load",c,false);a.addEventListener("error",function(){c()},false)}function O(){if(y&&y.readyState==="interactive")return y;for(var a=s.getElementsByTagName("script"),c,b=0,d=a.length;b<d;b++){c=a[b];if(c.readyState==="interactive")return c}return null}function E(a){function c(b){var d=z(b,a.uri,a.prefix),e,f=a.deps;e=[];for(var j,i=0;j=f[i++];)if(l[j])e=e.concat(l[j]);else e.push(j);var h;if(f=l[d]){h=[];
d=0;for(b=f.length;d<b;d++)h[d]=c(f[d]);return h}if(R(e,d)===-1||!(h=m[d]))throw"Invalid module id: "+b;if(J(a,d))return h.exports;if(!h.exports){b=h;d={uri:d,deps:h.dependencies,prefix:h.prefix,parent:a};f=b.factory;delete b.factory;if(v.call(f)==="[object Function]"){if(d=f(E(d),b.exports={},(b.declare=F,b.load=t,b)))b.exports=d}else b.exports=f||{}}return h.exports}return c}function J(a,c){if(a.uri===c)return true;if(a.parent)return J(a.parent,c);return false}function H(a,c){var b=z("./"+a,c);
l[c]=l[c]||[];l[c].push(b);return b}function K(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function z(a,c,b){if(b){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(S.call(b,e))a=b[e]+a.substring(d)}}if(a.indexOf("://")!==-1)c=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){c=K(c||L)+a;b=c.split("/");a=[];var f;e=0;for(f=b.length;e<f;e++){d=b[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+c;a.pop()}else d!=="."&&a.push(d)}c=a.join("/")}else c=a.indexOf("/")===
0?(c||L).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:M+a;c=b=c;if(b=b.match(/^([^?]+)(\?.*)$/)){c=b[1];I[c]=b[2]}return c}function q(a,c,b){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=z(a[e],c,b);return d}var v=Object.prototype.toString,S=Object.prototype.hasOwnProperty,D=Array.isArray?Array.isArray:function(a){return v.call(a)==="[object Array]"},R=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1},G=Date.now||function(){return(new Date).getTime()},
p={},o=[],n=null,P=10,w=!+"\v1",k=null,m={},s=document.getElementsByTagName("head")[0];if(w)x=function(a,c){a.attachEvent("onreadystatechange",function(){var b=a.readyState;if(b==="loaded"||b==="complete")c()})};var y=null,l={},g=A.location,L=g.protocol+"//"+g.host+g.pathname,I={};g=document.getElementsByTagName("script");g=g[g.length-1];var M=K(g.hasAttribute?g.src:g.getAttribute("src",4));if(g=g.getAttribute("data-main")){if(g.indexOf("://")===-1&&g.indexOf("./")===-1&&g.charAt(0)!=="/")g=M.replace(/^(\w+:\/\/[^/]+)\/?.*$/,
"$1")+"/"+g;t([g])}module.prefix=function(a,c){k=k||{};k[a]=c;return this};module.declare=F;module.load=t})(this);
