/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(A){function B(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];k[e]||b.push(e)}return b}function t(a,b){C(a,function(c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=c(a[e]);b&&b.apply(A,d)})}function C(a,b,c){function d(){if(b)b(c?undefined:D({deps:e}))}var e=p(a);a=B(e);if(a.length===0)return d();for(var f=0,i=a.length,g=i;f<i;f++)(function(q){M(q,function(){var r=(k[q]||0).dependencies||[],u=r.length;if(u){r=B(p(r));g+=u;C(r,function(){g-=u;g===0&&d()},true)}--g===0&&d()})})(a[f])}function E(a,
b,c){if(N(a)){c=b;b=a;a=""}else if(v.call(a)==="[object Function]"){c=a;a=c.toString();b=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=b.exec(a);)e[1]&&d.push(e[1]);b=d;a=""}c={dependencies:b,factory:c};var f;if(j){c.prefix=j;j=null}if(w){if(b=O())f=(b.hasAttribute?b.src:b.getAttribute("src",4)).replace(".js","");else if(l)if(F()-l.timestamp<P)f=l.uri;l=null}if(f){b=f;if(a&&f.indexOf("-pkg")!==-1)b=G(a,f);f=b;c.dependencies=p(c.dependencies,f,c.prefix);k[f]=c;m=[]}else{c.id=a;m.push(c)}}function M(a,
b){function c(){var d=m.length,e=0,f,i=a,g,q=a.indexOf("-pkg")!==-1;if(d){for(;e<d;e++){g=m[e];f=g.id;delete g.id;if(f&&q)i=G(f,a);f=i;g.dependencies=p(g.dependencies,f,g.prefix);k[f]=g}m=[]}n[a]&&delete n[a];b&&b()}if(n[a])x(n[a],c);else{if(w)l={uri:a,timestamp:F()};n[a]=Q(a+".js"+(H[a]||""),c)}}function Q(a,b){var c=document.createElement("script");x(c,function(){b&&b.call(c);try{if(c.clearAttributes)c.clearAttributes();else for(var d in c)delete c[d]}catch(e){}s.removeChild(c)});c.async=true;c.src=
a;return s.insertBefore(c,s.firstChild)}function x(a,b){a.addEventListener("load",b,false);a.addEventListener("error",function(){b()},false)}function O(){if(y&&y.readyState==="interactive")return y;for(var a=s.getElementsByTagName("script"),b,c=0,d=a.length;c<d;c++){b=a[c];if(b.readyState==="interactive")return b}return null}function D(a){return function(b){for(var c=z(b,a.uri,a.prefix),d=a.deps,e=[],f,i=0;f=d[i++];)if(o[f])e=e.concat(o[f]);else e.push(f);var g;if(R(e,c)===-1||!(g=k[c]))throw"Invalid module id: "+
b;if(I(a,c))return g.exports;if(!g.exports){b=g;c={uri:c,deps:g.dependencies,prefix:g.prefix,parent:a};d=b.factory;delete b.factory;if(v.call(d)==="[object Function]"){if(c=d(D(c),b.exports={},(b.declare=E,b.load=t,b)))b.exports=c}else b.exports=d||{}}return g.exports}}function I(a,b){if(a.uri===b)return true;if(a.parent)return I(a.parent,b);return false}function G(a,b){var c=z("./"+a,b);o[b]=o[b]||[];o[b].push(c);return c}function J(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:
".")+"/"}function z(a,b,c){if(c){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(S.call(c,e))a=c[e]+a.substring(d)}}if(a.indexOf("://")!==-1)b=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){b=J(b||K)+a;c=b.split("/");a=[];var f;e=0;for(f=c.length;e<f;e++){d=c[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+b;a.pop()}else d!=="."&&a.push(d)}b=a.join("/")}else b=a.indexOf("/")===0?(b||K).replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+a:L+a;b=c=b;if(c=c.match(/^([^?]+)(\?.*)$/)){b=c[1];
H[b]=c[2]}return b}function p(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=z(a[e],b,c);return d}var v=Object.prototype.toString,S=Object.prototype.hasOwnProperty,N=Array.isArray?Array.isArray:function(a){return v.call(a)==="[object Array]"},R=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},F=Date.now||function(){return(new Date).getTime()},n={},m=[],l=null,P=10,w=!+"\v1",j=null,k={},s=document.getElementsByTagName("head")[0];
if(w)x=function(a,b){a.attachEvent("onreadystatechange",function(){var c=a.readyState;if(c==="loaded"||c==="complete")b()})};var y=null,o={},h=A.location,K=h.protocol+"//"+h.host+h.pathname,H={};h=document.getElementsByTagName("script");h=h[h.length-1];var L=J(h.hasAttribute?h.src:h.getAttribute("src",4));if(h=h.getAttribute("data-main")){if(h.indexOf("://")===-1&&h.indexOf("./")===-1&&h.charAt(0)!=="/")h=L.replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")+"/"+h;t([h])}module.prefix=function(a,b){j=j||{};j[a]=
b;return this};module.declare=E;module.load=t})(this);
