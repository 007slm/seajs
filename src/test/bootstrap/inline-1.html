<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>iframe</title>
</head>
<body>

<p id="out"></p>

<script data-main="./init">
/*
Copyright 2011, SeaJS v0.9.0dev
MIT Licensed
build time: ${build.time}
*/

var seajs={_seajs:this.seajs};seajs.version="0.9.0dev";seajs._data={config:{},memoizedMods:{},pendingMod:null};seajs._util={};seajs._fn={};
(function(a){var e=Object.prototype.toString;a.isString=function(f){return e.call(f)==="[object String]"};a.isFunction=function(f){return e.call(f)==="[object Function]"};a.isArray=Array.isArray?Array.isArray:function(f){return e.call(f)==="[object Array]"};a.indexOf=Array.prototype.indexOf?function(f,b){return f.indexOf(b)}:function(f,b){for(var h=0,d=f.length;h<d;h++)if(f[h]===b)return h;return-1}})(seajs._util);
(function(a,e,f){function b(g){g=("./"+g).replace(/(.*)?\/.*/,"$1").substring(2);return(g?g:".")+"/"}function h(g){return g.replace(/^(\w+:\/\/[^/]+)\/?.*$/,"$1")}function d(g,l){var k=g;if(k.indexOf("://")===-1){var j=m.alias;if(j){k=k.split("/");for(var q=k.length,o=0;o<q;){var p=j[k[o]];if(p)k[o]=p;o++}k=k.join("/")}}g=k;l=l||n;if(g.indexOf("://")!==-1)j=g;else if(g.indexOf("./")===0||g.indexOf("../")===0){g=("/"+g).replace("/./","/").substring(1);j=b(l)+g}else j=g.indexOf("/")===0?h(l)+g:m.base+
"/"+g;j=j.replace(/([^:]\/)\/+/g,"$1");if(j.indexOf(".")!==-1){k=j.split("/");q=[];p=0;for(var s=k.length;p<s;p++){o=k[p];if(o===".."){if(q.length===0)throw"Invalid path: "+j;q.pop()}else o!=="."&&q.push(o)}j=q.join("/")}if(k=j.match(/^([^?]+)(\?.*)$/)){j=k[1];i[j]=k[2]}if(j.lastIndexOf(".")<=j.lastIndexOf("/"))j+=".js";return j}function c(g,l){for(var k=[],j=0,q=g.length;j<q;j++)k[j]=d(g[j],l);return k}var m=e.config,i={};f=f.location;var n=f.protocol+"//"+f.host+f.pathname,r=e.memoizedMods;a.dirname=
b;a.restoreUrlArgs=function(g){return g+(i[g]||"")};a.getHost=h;a.pageUrl=n;a.id2Uri=d;a.ids2Uris=c;a.memoize=function(g,l){l.dependencies=c(l.dependencies,g);e.memoizedMods[g]=l};a.getUnMemoized=function(g){for(var l=[],k=0;k<g.length;k++){var j=g[k];r[j]||l.push(j)}return l}})(seajs._util,seajs._data,this);
(function(a){function e(b,h){b.addEventListener("load",h,false);b.addEventListener("error",function(){h()},false)}a.isOldIE=!+"\v1";var f=document.getElementsByTagName("head")[0];a.getScript=function(b,h,d){var c=document.createElement("script");e(c,function(){h&&h.call(c);try{if(c.clearAttributes)c.clearAttributes();else for(var m in c)delete c[m]}catch(i){}f.removeChild(c)});d&&c.setAttribute("charset",d);c.async=true;c.src=b;return f.insertBefore(c,f.firstChild)};if(a.isOldIE)e=function(b,
h){b.attachEvent("onreadystatechange",function(){var d=b.readyState;if(d==="loaded"||d==="complete")h()})};a.scriptOnload=e;a.getInteractiveScript=function(){for(var b=f.getElementsByTagName("script"),h=0;h<b.length;h++){var d=b[h];if(d.readyState==="interactive")return d}return null};a.getScriptAbsoluteSrc=function(b){return b.hasAttribute?b.src:b.getAttribute("src",4)}})(seajs._util);
(function(a,e,f,b){function h(i,n,r){function g(){if(n){var p;r||(p=f.createRequire({uri:l.uri,deps:k}));n(p)}}var l=this,k=a.ids2Uris(i,l.uri);i=a.getUnMemoized(k);if(i.length===0)return g();for(var j=0,q=i.length,o=q;j<q;j++)(function(p){d(p,function(){var s=(m[p]||0).dependencies||[],t=s.length;if(t){o+=t;h(s,function(){o-=t;o===0&&g()},true)}--o===0&&g()})})(i[j])}function d(i,n){function r(){if(e.pendingMod){a.memoize(i,e.pendingMod);e.pendingMod=null}c[i]&&delete c[i];n&&n()}if(c[i])a.scriptOnload(c[i],
r);else c[i]=a.getScript(a.restoreUrlArgs(i),r,e.config.charset)}var c={},m=e.memoizedMods;f.load=function(i,n){if(a.isString(i))i=[i];h.call(this,i,function(r){for(var g=[],l=0;l<i.length;l++)g[l]=r(i[l]);n&&n.apply(b,g)});return this}})(seajs._util,seajs._data,seajs._fn,this);
(function(a,e,f){f.define=function(b,h,d){if(a.isArray(b)){d=h;h=b;b=""}else if(!a.isString(b)){d=b;if(a.isFunction(d)){b=d.toString();h=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var c=[],m;m=h.exec(b);)m[1]&&c.push(m[1]);h=c}b=""}d={id:b,dependencies:h||[],factory:d};var i;if(a.isOldIE)if(b=a.getInteractiveScript())i=a.getScriptAbsoluteSrc(b);if(i)a.memoize(i,d);else e.pendingMod=d}})(seajs._util,seajs._data,seajs._fn);
(function(a,e,f){function b(d){return function(c){var m=a.id2Uri(c,d.uri),i;if(a.indexOf(d.deps,m)===-1||!(i=e.memoizedMods[m]))return null;if(h(d,m))return i.exports;if(!i.exports){c=i;m={uri:m,deps:i.dependencies,parent:d};var n=c.factory;c.uri=m.uri;c.id=c.id||c.uri;c.exports={};c.load=f.load;delete c.factory;if(a.isFunction(n)){if(e.config.debug&&n.toString().search(/\sexports\s*=\s*[^=]/)!==-1)throw"Invalid setter: exports = ...";if(m=n(b(m),c.exports,c))c.exports=m}else c.exports=n||{}}return i.exports}}
function h(d,c){if(d.uri===c)return true;if(d.parent)return h(d.parent,c);return false}f.createRequire=b})(seajs._util,seajs._data,seajs._fn);seajs._data.config.debug=false;(function(a,e,f){var b=e.config;e=document.getElementById("seajs");if(!e){e=document.getElementsByTagName("script");e=e[e.length-1]}var h=a.getScriptAbsoluteSrc(e)||a.pageUrl;b.base=a.dirname(h);b.main=e.getAttribute("data-main")||"";f.config=function(d){for(var c in d)b[c]=d[c];return this}})(seajs._util,seajs._data,seajs._fn);
(function(a,e,f){e=e.config;f.use=f.load;(e=e.main)&&f.use([e]);(function(b){if(b){for(var h={0:"config",1:"use",2:"define"},d=0;d<b.length;d+=2)f[h[b[d]]].apply(a,b[d+1]);delete a.args}})((a._seajs||0).args)})(seajs,seajs._data,seajs._fn);(function(a,e,f,b){if(a._seajs)b.seajs=a._seajs;else{a.use=f.use;a.config=f.config;b.define=f.define;if(!e.config.debug){delete a._util;delete a._data;delete a._fn}}})(seajs,seajs._data,seajs._fn,this);
</script>

<p>inline + data-main</p>

<pre>
&lt;script data-main="./init"&gt;
/* sea.js source code */
// snipping...
&lt;/script&gt;
</pre>

</body>
</html>