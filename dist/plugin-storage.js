define("seajs/plugin-storage",["./plugin-base","store","manifest"],function(g){function n(){if(!c)return e;var a={},d;for(d in e)if(e.hasOwnProperty(d)&&"version"!==d){var b=c[d],i=e[d];if(!b||b.version!==i.version)a[d]=i}return a}function o(){var a=j._resolve;j._resolve=function(d,b){return a(d,k(b,c))}}function k(a,d){var b;if(!d[a]||!(b=d[a].version))return a;var c=a.match(/^(.*)\/([^\/]+)$/);return!c?a:c[1]+"/"+b+"/"+c[2]}var e=g("manifest");if(e){var l=g("./plugin-base"),h=l.util,f=g("store").createStorage("localStorage"),
c=f.get("manifest"),m={};if(!c||c.version!==e.version)m=n(),c=e,f.set("manifest",c);o();l.add({name:"storage",ext:[".js"],fetch:function(a,d){var b=f.get(a);b&&c[a]&&!m[a]?(h.globalEval(b),d()):(b=k(a,c),h.xhr(b,function(b){2==parseInt(seajs.pluginSDK.config.debug)||c[a]&&f.set(a,b);h.globalEval(b);d()}))}});var j=seajs.pluginSDK.Module}});seajs.use("seajs/plugin-storage");
