define("seajs/plugin-combo",[],function(){function m(){var c=h.prototype,d=c._load;c._load=function(a,b){n(a);d.call(this,a,b)}}function n(c){var d=i.comboExcludes,c=e.filter(c,function(a){var b=o[a];return(!b||b.status<h.STATUS.FETCHING)&&(!d||!d.test(a))}),c=e.map(c,function(a){return e.parseMap(a)});1<c.length&&seajs.config({map:j(k(c))})}function k(c){return p(q(c))}function q(c){var d={__KEYS:[]};e.forEach(c,function(a){var a=a.replace("://","__").split("/"),b=d;e.forEach(a,function(a){b[a]||
(b[a]={__KEYS:[]},b.__KEYS.push(a));b=b[a]})});return d}function p(c){var d=[];e.forEach(c.__KEYS,function(a){for(var b=a,a=c[a],e=a.__KEYS;1===e.length;)b+="/"+e[0],a=a[e[0]],e=a.__KEYS;e.length&&d.push([b.replace("__","://"),l(a)])});return d}function l(c){var d=[];e.forEach(c.__KEYS,function(a){var b=l(c[a]);b.length?e.forEach(b,function(b){d.push(a+"/"+b)}):d.push(a)});return d}function j(c){var d=i.comboSyntax||["??",","],a=[];e.forEach(c,function(b){var c=b[0]+"/",b=r(b[1]);e.forEach(b,function(b){var f=
{},g=c+d[0]+b.join(d[1]);if(2E3<g.length)throw Error("The combo url is too long: "+g);e.forEach(b,function(a){f[c+a]=g});a.push(function(a){return f[a]||a})})});return a}function r(c){var d=[],a={};e.forEach(c,function(b){var c;c=b.lastIndexOf(".");(c=0<=c?b.substring(c):"")&&(a[c]||(a[c]=[])).push(b)});for(var b in a)a.hasOwnProperty(b)&&d.push(a[b]);return d}var f=seajs.pluginSDK,e=f.util,i=f.config,h=f.Module,o=seajs.cache;seajs.debug?seajs.log("Combo is turned off in debug mode"):m();e.toComboPaths=
k;e.toComboMap=j});seajs.use("seajs/plugin-combo");
