/*
 SeaJS - A Module Loader for the Web
 v2.0.0-dev | seajs.org | MIT Licensed
*/
'use strict';(function(n,t){function F(a){return"[object String]"===G.call(a)}function A(a){return"[object Function]"===G.call(a)}function H(a){var b={};s(a,function(a){b[a]=1});return da(b)}function I(a){a=a.match(ea);return(a?a[0]:".")+"/"}function N(a){J.lastIndex=0;J.test(a)&&(a=a.replace(J,"$1/"));if(-1===a.indexOf("."))return a;for(var b=a.split("/"),c=[],g,h=0;h<b.length;h++)if(g=b[h],".."===g){if(0===c.length)throw Error("The path is invalid: "+a);c.pop()}else"."!==g&&c.push(g);return c.join("/")}
function O(a,b){if(!a)return"";var c=a,g=j.alias,h;if(h=g)if(h=g.hasOwnProperty(c)){h=c;var f=h.charAt(0);h=-1===h.indexOf("://")&&"."!==f&&"/"!==f}h&&(c=g[c]);var d=j.vars;d&&-1<c.indexOf("{")&&(c=c.replace(fa,function(a,b){return d.hasOwnProperty(b)?d[b]:b}));g=b||v;K(c)||(0===c.indexOf("./")||0===c.indexOf("../")?(0===c.indexOf("./")&&(c=c.substring(2)),c=I(g)+c):c="/"===c.charAt(0)&&"/"!==c.charAt(1)?g.match(ga)[1]+c:j.base+"/"+c);"#"===c.charAt(c.length-1)?c=c.slice(0,-1):!ha.test(c)&&-1===c.indexOf("?")&&
(c+=".js");var c=c.replace(":80/","/"),c=a=N(c),g=j.map||[],e=c;if(h=g.length){for(f=0;f<h&&!(e=g[f],e=A(e)?e(c):c.replace(e[0],e[1]),e!==c);f++);K(e)||(e=N(I(v)+e))}return e}function K(a){return 0<a.indexOf("://")||0===a.indexOf("//")}function P(a,b){var c;if(Q)a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(g){"NS_ERROR_DOM_SECURITY_ERR"===g.name&&(c=!0)}setTimeout(function(){c?b():P(a,b)},1)}function ia(){}function ja(){if(B)return B;if(C&&"interactive"===C.readyState)return C;
for(var a=w.getElementsByTagName("script"),b=0;b<a.length;b++){var c=a[b];if("interactive"===c.readyState)return C=c}}function u(a,b){this.uri=a;this.status=b||k.LOADING;this.dependencies=[];this.waitings=[]}function q(a,b){if(F(a)){var c=f.emitData("resolve",{id:a,refUri:b},"id");return O(c,b)}return R(a,function(a){return q(a,b)})}function ka(a,b,c){var g=arguments.length;1===g?(c=a,a=t):2===g&&(c=b,b=t,S(a)&&(b=a,a=t));if(!S(b)&&A(c)){var g=c.toString(),h=[],d;T.lastIndex=0;for(g=g.replace(la,
"");d=T.exec(g);)d[2]&&h.push(d[2]);b=H(h)}var g={id:a,dependencies:b,factory:c},e;!a&&document.attachEvent&&((h=ja())&&h.src?(e=h.hasAttribute?h.src:h.getAttribute("src",4),e=f.emitData("derived",{uri:e})):x("Failed to derive URI from interactive script for:",c.toString(),"warn"));(e=a?q(a):e)?U(e,g):D=g}function U(a,b){var c=m[a]||(m[a]=new u(a));c.status<k.SAVED&&(c.id=b.id||a,c.dependencies=q(V(b.dependencies||[],function(a){return!!a}),a),c.factory=b.factory,c.status=k.SAVED);return c}function W(a){var b=
j.preload.slice();j.preload=[];b.length?X.use(b,a):a()}function Y(a){return V(a,function(a){return!m[a]||m[a].status<k.LOADED})}function Z(a){var b=a.waitings;if(0===b.length)return!1;y.push(a.uri);a=b.concat(y);if(a.length>H(a).length)return!0;for(a=0;a<b.length;a++)if(Z(m[b[a]]))return!0;y.pop();return!1}if(!n.seajs){var f={version:"2.0.0-dev"},j={debug:"",preload:[]},d=[],e={},G=e.toString,ma=e.hasOwnProperty,na=d.slice,S=Array.isArray||function(a){return"[object Array]"===G.call(a)},s=d.forEach?
function(a,b){a.forEach(b)}:function(a,b){for(var c=0,g=a.length;c<g;c++)b(a[c],c,a)},R=d.map?function(a,b){return a.map(b)}:function(a,b){var c=[];s(a,function(a,h,f){c.push(b(a,h,f))});return c},V=d.filter?function(a,b){return a.filter(b)}:function(a,b){var c=[];s(a,function(a,h,f){b(a,h,f)&&c.push(a)});return c},da=Object.keys||function(a){for(var b in a)ma.apply(a,b);return[]},z=n.console,x=f.log=function(){if(z!==t){var a=na.call(arguments),b=z[a[a.length-1]]?a.pop():"log";if("log"!==b||f.debug)b=
z[b],b=b.apply?b:Function.prototype.bind.call(b,z),b.apply(z,a)}},l={};f.on=function(a,b){if(!b)return f;(l[a]||(l[a]=[])).push(b);return f};f.off=function(a,b){if(!a&&!b)return l={},f;var c=l[a];if(c)if(b)for(var g=c.length-1;0<=g;g--)c[g]===b&&c.splice(g,1);else delete l[a];return f};f.emit=function(a){var b=l[a];if(!b)return f;for(var c=[],g=1,h=arguments.length;g<h;g++)c[g-1]=arguments[g];b=b.slice();s(b,function(a){a.apply(n,c)});return f};var ea=/[^?]*(?=\/.*$)/,J=/([^:\/])\/\/+/g,ha=/\.(?:css|js)|\/$/,
ga=/^(.*?\w)(?:\/|$)/,fa=/{([^{}]+)}/g,v,d=n.location,e=d.pathname;"/"!==e.charAt(0)&&(e="/"+e);d=d.protocol+"//"+d.host+e;-1<d.indexOf("\\")&&(d=d.replace(/\\/g,"/"));v=d;var d=document,w=d.head||d.getElementsByTagName("head")[0]||d.documentElement,$=w.getElementsByTagName("base")[0],oa=/\.css(?:\?|$)/i,pa=/loaded|complete|undefined/,B,C,d=navigator.userAgent,Q=536>Number(d.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),qa=0<d.indexOf("Firefox")&&!("onload"in document.createElement("link")),T=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,
la=/\\\\/g,m={},L=[],k={LOADING:1,SAVED:2,LOADED:3,COMPILING:4,COMPILED:5};u.prototype.use=function(a,b){F(a)&&(a=[a]);var c=q(a,this.uri);this.load(c,function(){W(function(){var a=R(c,function(a){return a?m[a].compile():null});b&&b.apply(null,a)})})};u.prototype.load=function(a,b,c){function g(a){a&&a.status<k.LOADED&&(a.status=k.LOADED);0===--h&&b()}c=c||{};a=c.filtered?a:Y(a);c=a.length;if(0===c)b();else{f.emit("load",a);for(var h=c,d=0;d<c;d++)(function(a){function b(){if(c.status<k.SAVED)return g();
if(Z(c)){var a=y;a.push(a[0]);x("Found circular dependencies:",a.join(" --\x3e "));y.length=0;g(c)}a=c.waitings=Y(c.dependencies);if(0===a.length)return g(c);u.prototype.load(a,function(){g(c)},{filtered:!0})}var c=m[a]||(m[a]=new u(a,void 0));if(c.status<k.SAVED){var h=function(){delete M[d];aa[d]=!0;D&&(U(a,D),D=null);var b,c=E[d];for(delete E[d];b=c.shift();)b()},d=f.emitData("fetch",{uri:a});if(aa[d])b();else if(M[d])E[d].push(b);else{M[d]=!0;E[d]=[b];var e=j.charset;if(!f.emitData("request",
{uri:d,callback:h,charset:e},"requested")){var n=d,s=oa.test(n),p=document.createElement(s?"link":"script");e&&(e=A(e)?e(n):e)&&(p.charset=e);var q=h||ia;if("SCRIPT"===p.nodeName){var r=p;r.onload=r.onerror=r.onreadystatechange=function(){pa.test(r.readyState)&&(r.onload=r.onerror=r.onreadystatechange=null,r.parentNode&&!j.debug&&w.removeChild(r),r=t,q())}}else{var l=p;Q||qa?(x("Start poll to fetch css"),setTimeout(function(){P(l,q)},1)):l.onload=l.onerror=function(){l.onload=l.onerror=null;l=t;q()}}s?
(p.rel="stylesheet",p.href=n):(p.async="async",p.src=n);B=p;$?w.insertBefore(p,$):w.appendChild(p);B=null}}}else b()})(a[d])}};u.prototype.compile=function(){function a(a){a=q(a,b.uri);a=m[a];if(!a)return null;if(a.status===k.COMPILING)return a.exports;a.parent=b;return a.compile()}var b=this;if(b.status===k.COMPILED)return b.exports;f.emit("compile",b);if(b.status<k.SAVED&&!b.exports)return null;L.push(b);b.status=k.COMPILING;a.async=function(a,c){b.use(a,c)};a.resolve=function(a){return q(a,b.uri)};
a.cache=m;b.require=a;b.exports=b.exports||{};var c=b.factory,d=c;A(c)&&(d=c(b.require,b.exports,b));d!==t&&(b.exports=d);b.status=k.COMPILED;L.pop();f.emit("compiled",b);return b.exports};var M={},aa={},E={},D=null,y=[],X=new u(v,k.COMPILED);f.use=function(a,b){W(function(){X.use(a,b)});return f};f.cache=m;d=document.getElementById("seajsnode");d||(d=document.getElementsByTagName("script"),d=d[d.length-1]);var e=d&&(d.hasAttribute?d.src:d.getAttribute("src",4))||v,ra=e=I(e),ba=e.match(/^(.+\/)seajs\/[\.\d]+(?:-dev)?\/$/);
ba&&(e=ba[1]);j.base=e;j.main=d&&d.getAttribute("data-main");j.charset="utf-8";f.config=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=j[b],d=a[b];if(c&&("alias"===b||"vars"===b))for(var e in d){if(d.hasOwnProperty(e)){var k=c[e],l=d[e];k&&k!==l&&x("The alias config is conflicted:","key =",'"'+e+'"',"previous =",'"'+k+'"',"current =",'"'+l+'"',"warn");c[e]=l}}else c&&("map"===b||"preload"===b)?(F(d)&&(d=[d]),s(d,function(a){a&&c.push(a)})):j[b]=d}if((a=j.base)&&!K(a))j.base=O(("/"===a.charAt(0)&&
"/"!==a.charAt(1)?"":"./")+a+"/");f.debug=!!j.debug;return this};f.debug=!!j.debug;f.log=x;f.config({vars:{seajs:ra}});var d=s,ca=[],e=n.location.search,e=e.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),e=e+(" "+document.cookie);e.replace(/seajs-(\w+)=[1-9]/g,function(a,b){ca.push(b)});e=H(ca);d(e,function(a){f.use("{seajs}/plugin-"+a);"debug"===a&&(f._use=f.use,f._useArgs=[],f.use=function(){f._useArgs.push(arguments);return f})});n.define=ka;j.main&&f.use(j.main);f.pluginSDK={config:j,cachedModules:m,compilingStack:L,
STATUS:k}}})(this);
