/*
 SeaJS - A Module Loader for the Web
 v2.0.0-dev | seajs.org | MIT Licensed
*/
'use strict';(function(j,p){function A(a){return"[object Function]"===S.call(a)}function K(a){var c={};t(a,function(a){c[a]=1});return T(c)}function u(a,c,b){B(a,c);return c[b||T(c)[0]]}function C(a){a=a.match(ka);return(a?a[0]:".")+"/"}function U(a){L.lastIndex=0;L.test(a)&&(a=a.replace(L,"$1/"));if(-1===a.indexOf("."))return a;for(var c=a.split("/"),b=[],e,g=0;g<c.length;g++)if(e=c[g],".."===e){if(0===b.length)throw Error("The path is invalid: "+a);b.pop()}else"."!==e&&b.push(e);return b.join("/")}
function V(a,c){if(!a)return"";var b=a,e=m.alias,g;if(g=e)if(g=e.hasOwnProperty(b)){g=b;var d=g.charAt(0);g=-1===g.indexOf("://")&&"."!==d&&"/"!==d}g&&(b=e[b]);var M=m.vars;M&&-1<b.indexOf("{")&&(b=b.replace(la,function(a,b){return M.hasOwnProperty(b)?M[b]:b}));e=c||v;N(b)||(0===b.indexOf("./")||0===b.indexOf("../")?(0===b.indexOf("./")&&(b=b.substring(2)),b=C(e)+b):b="/"===b.charAt(0)&&"/"!==b.charAt(1)?e.match(ma)[1]+b:m.base+"/"+b);"#"===b.charAt(b.length-1)?b=b.slice(0,-1):!na.test(b)&&-1===b.indexOf("?")&&
(b+=".js");var b=b.replace(":80/","/"),b=a=U(b),e=m.map||[],f=b;if(g=e.length){for(d=0;d<g&&!(f=e[d],f=A(f)?f(b):b.replace(f[0],f[1]),f!==b);d++);N(f)||(f=U(C(v)+f))}return f}function N(a){return 0<a.indexOf("://")||0===a.indexOf("//")}function X(a,c){var b=a.sheet,e;if(Y)b&&(e=!0);else if(b)try{b.cssRules&&(e=!0)}catch(g){"NS_ERROR_DOM_SECURITY_ERR"===g.name&&(e=!0)}setTimeout(function(){e?c():X(a,c)},1)}function oa(){if(D)return D;if(E&&"interactive"===E.readyState)return E;for(var a=w.getElementsByTagName("script"),
c=a.length-1;0<=c;c--){var b=a[c];if("interactive"===b.readyState)return E=b}}function O(a,c){this.uri=a;this.status=c||k.LOADING;this.dependencies=[];this.waitings=[]}function x(a,c){if(F(a))return Z(a,function(a){return x(a,c)});var b;b=u("resolve",{id:a,refUri:c},"id");b=V(b,c);return b=u("resolved",{uri:b})}function G(a,c,b){function e(a){a&&a.status<k.LOADED&&(a.status=k.LOADED);0===--g&&c()}b=b||{};a=b.filtered?a:$(a);if(0===a.length)c();else{B("load",a);for(var g=b=a.length,d=0;d<b;d++)(function(a){function b(){if(c.status<
k.SAVED)e();else if(aa(c)){var a=y;a.push(a[0]);P("Found circular dependencies:",a.join(" --\x3e "));y.length=0;e(c)}else a=c.waitings=$(c.dependencies),0===a.length?e(c):G(a,function(){e(c)},{filtered:!0})}var c=r[a];if(c.status<k.SAVED){var g=function(){delete Q[d];R[d]=!0;H&&(ba(a,H),H=null);var b,c=I[d];for(delete I[d];b=c.shift();)b()},d=u("fetch",{uri:a,fetchedList:R},"uri");if(R[d])b();else if(Q[d])I[d].push(b);else{Q[d]=!0;I[d]=[b];var f=m.charset;if(!u("request",{uri:d,callback:g,charset:f},
"requested")){var h=d,W=pa.test(h),l=n.createElement(W?"link":"script");if(f&&(f=A(f)?f(h):f))l.charset=f;if("SCRIPT"===l.nodeName){var q=l;q.onload=q.onerror=q.onreadystatechange=function(){qa.test(q.readyState)&&(q.onload=q.onerror=q.onreadystatechange=null,m.debug||w.removeChild(q),q=p,g&&g())}}else{var j=l;Y||ra?(P("Start css polling"),setTimeout(function(){X(j,g)},1)):j.onload=j.onerror=function(){j.onload=j.onerror=null;j=p;g&&g()}}W?(l.rel="stylesheet",l.href=h):(l.async="async",l.src=h);D=
l;ca?w.insertBefore(l,ca):w.appendChild(l);D=null}}}else b()})(a[d])}}function sa(a,c,b){var e=arguments.length;1===e?(b=a,a=p):2===e&&(b=c,c=p,F(a)&&(c=a,a=p));if(!F(c)&&A(b)){var e=b.toString(),g=[],d;da.lastIndex=0;for(e=e.replace(ta,"");d=da.exec(e);)d[2]&&g.push(d[2]);c=K(g)}var e={id:a,dependencies:c,factory:b},f;!a&&n.attachEvent&&((g=oa())&&g.src?(f=g.hasAttribute?g.src:g.getAttribute("src",4),f=u("derived",{uri:f})):P("Failed to derive URI from interactive script for:",b.toString(),"warn"));
(f=a?x(a):f)?ba(f,e):H=e}function ba(a,c){var b=r[a];b.status<k.SAVED&&(b.id=c.id||a,b.dependencies=x(c.dependencies||[],a),b.factory=c.factory,b.status=k.SAVED)}function ea(a){function c(b){b=r[c.resolve(b)];if(b===p)return null;b.parent=a;return ea(b)}if(a.status>=k.COMPILING)return a.exports;B("compile",a);if(a.status<k.LOADED&&a.exports===p)return null;a.status=k.COMPILING;c.async=function(b,c){a.load(b,c)};c.resolve=function(b){return x(b,a.uri)};c.cache=r;a.require=c;a.exports=a.exports||{};
delete a.waitings;var b=a.factory,e=b;A(b)&&(e=b(a.require,a.exports,a));e!==p&&(a.exports=e);a.status=k.COMPILED;B("compiled",a);return a.exports}function $(a){return ua(a,function(a){return(r[a]||(r[a]=new O(a,void 0))).status<k.LOADED})}function aa(a){var c=a.waitings;if(0===c.length)return!1;y.push(a.uri);a=c.concat(y);if(K(a).length<a.length)return!0;for(a=0;a<c.length;a++)if(aa(r[c[a]]))return!0;y.pop();return!1}function fa(){var a=[],c=j.location.search,c=c.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),
c=c+(" "+n.cookie);c.replace(/seajs-(\w+)=1/g,function(b,c){a.push(c)});return K(a)}function ga(){var a=J.getAttribute("data-main");a&&G(a)}if(!j.seajs){var f={version:"2.0.0-dev"},d=[],h={},S=h.toString,ha=h.hasOwnProperty,va=d.slice,F=Array.isArray||function(a){return"[object Array]"===S.call(a)},t=d.forEach?function(a,c){a.forEach(c)}:function(a,c){for(var b=0,e=a.length;b<e;b++)c(a[b],b,a)},Z=d.map?function(a,c){return a.map(c)}:function(a,c){var b=[];t(a,function(a,d,f){b.push(c(a,d,f))});return b},
ua=d.filter?function(a,c){return a.filter(c)}:function(a,c){var b=[];t(a,function(a,d,f){c(a,d,f)&&b.push(a)});return b},T=Object.keys||function(a){for(var c in a)ha.apply(a,c);return[]},z=j.console,P=f.log=function(){if(z!==p){var a=va.call(arguments),c=z[a[a.length-1]]?a.pop():"log";if("log"!==c||m.debugMode)c=z[c],c=c.apply?c:Function.prototype.bind.call(c,z),c.apply(z,a)}},s={};f.on=function(a,c){if(!c)return f;(s[a]||(s[a]=[])).push(c);return f};f.off=function(a,c){if(!a&&!c)return s={},f;var b=
s[a];if(b)if(c)for(var e=b.length-1;0<=e;e--)b[e]===c&&b.splice(e,1);else delete s[a];return f};var B=f.emit=function(a){var c=s[a];if(!c)return f;for(var b=[],e=1,d=arguments.length;e<d;e++)b[e-1]=arguments[e];c=c.slice();t(c,function(a){a.apply(j,b)});return f},ka=/[^?]*(?=\/.*$)/,L=/([^:\/])\/\/+/g,na=/\.(?:css|js)|\/$/,ma=/^(.*?\w)(?:\/|$)/,la=/{([^{}]+)}/g,n=document,v,d=j.location,h=d.pathname;"/"!==h.charAt(0)&&(h="/"+h);d=d.protocol+"//"+d.host+h;-1<d.indexOf("\\")&&(d=d.replace(/\\/g,"/"));
v=d;if(!(d=n.getElementById("seajs-node")))d=n.getElementsByTagName("script"),d=d[d.length-1]||n.createElement("script");var J=d,d=(J.hasAttribute?J.src:J.getAttribute("src",4))||v,w=n.head||n.getElementsByTagName("head")[0]||n.documentElement,ca=w.getElementsByTagName("base")[0],pa=/\.css(?:\?|$)/i,qa=/loaded|complete|undefined/,D,E,h=navigator.userAgent,Y=536>Number(h.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),ra=0<h.indexOf("Firefox")&&!("onload"in n.createElement("link")),da=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,
ta=/\\\\/g,r=f.cache={},k={LOADING:1,SAVED:2,LOADED:3,COMPILING:4,COMPILED:5};O.prototype.load=function(a,c){var b=x(F(a)?a:[a],this.uri);G(b,function(){var a=Z(b,function(a){return ea(r[a])});c&&c.apply(j,a)})};var Q={},R={},I={},H=null,y=[],ia=new O(v,k.COMPILED);f.use=function(a,c){var b=function(){ia.load(a,c)},d=m.preload||[],g=d.length;g?ia.load(d.splice(0,g),b):b();return f};j.define=sa;var h=C(d),ja=h.match(/^(.+\/)seajs\/[\.\d]+(?:-dev)?\/$/);ja&&(h=ja[1]);var m={base:h,charset:"utf-8"};
f.config=function(a){for(var c in a)ha.apply(a,c);a.base&&(a=m.base,N(a)||(m.base=V(("/"===a.charAt(0)&&"/"!==a.charAt(1)?"":"./")+a+"/")));return f};f.config({vars:{seajs:C(d)}});fa().length?t(fa(),function(a){G("{seajs}/plugin-"+a,ga)}):ga()}})(this);
