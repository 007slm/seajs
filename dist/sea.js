/*
 SeaJS - A Module Loader for the Web
 v2.0.0-dev | seajs.org | MIT Licensed
*/
'use strict';(function(o,p){function C(a){return"[object String]"===D.call(a)}function x(a){return"[object Function]"===D.call(a)}function E(a){var b={};q(a,function(a){b[a]=1});return K(b)}function t(){if("undefined"!==typeof l){var a=Array.prototype.slice.call(arguments),b="log";l[a[a.length-1]]&&(b=a.pop());if("log"!==b||f.debug)if(l[b].apply)l[b].apply(l,a);else{var c=a.length;if(1===c)l[b](a[0]);else if(2===c)l[b](a[0],a[1]);else if(3===c)l[b](a[0],a[1],a[2]);else l[b](a.join(" "))}}}function F(a){a=
a.match(aa);return(a?a[0]:".")+"/"}function L(a){G.lastIndex=0;G.test(a)&&(a=a.replace(G,"$1/"));if(-1===a.indexOf("."))return a;for(var b=a.split("/"),c=[],d,e=0;e<b.length;e++)if(d=b[e],".."===d){if(0===c.length)throw Error("The path is invalid: "+a);c.pop()}else"."!==d&&c.push(d);return c.join("/")}function ba(a){var b=i.vars;b&&-1<a.indexOf("{")&&(a=a.replace(ca,function(a,d){return b.hasOwnProperty(d)?b[d]:d}));return a}function M(a,b){if(!a)return"";var c=a,d=i.alias,e;if(e=d)if(e=d.hasOwnProperty(c)){e=
c;var f=e.charAt(0);e=-1===e.indexOf("://")&&"."!==f&&"/"!==f}e&&(c=d[c]);c=a=ba(c);d=b||m;H(c)||(0===c.indexOf("./")||0===c.indexOf("../")?(0===c.indexOf("./")&&(c=c.substring(2)),c=F(d)+c):c="/"===c.charAt(0)&&"/"!==c.charAt(1)?d.match(da)[1]+c:i.base+"/"+c);c=L(c);"#"===c.charAt(c.length-1)?c=c.slice(0,-1):!ea.test(c)&&-1===c.indexOf("?")&&(c+=".js");var c=c.replace(":80/","/"),d=i.map||[],h=c;if(e=d.length){for(f=0;f<e&&!(h=d[f],h=x(h)?h(c):c.replace(h[0],h[1]),h!==c);f++);H(h)||(h=L(F(m)+h))}return h}
function H(a){return 0<a.indexOf("://")||0===a.indexOf("//")}function fa(a){"/"!==a.charAt(0)&&(a="/"+a);return a}function ga(a,b,c){var d=ha.test(a),e=document.createElement(d?"link":"script");c&&(c=x(c)?c(a):c)&&(e.charset=c);b=b||ia;"SCRIPT"===e.nodeName?ja(e,b):ka(e,b);d?(e.rel="stylesheet",e.href=a):(e.async="async",e.src=a);y=e;N?u.insertBefore(e,N):u.appendChild(e);y=null}function ja(a,b){a.onload=a.onerror=a.onreadystatechange=function(){la.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=
null,a.parentNode&&!i.debug&&u.removeChild(a),a=p,b())}}function ka(a,b){O||ma?(t("Start poll to fetch css"),setTimeout(function(){P(a,b)},1)):a.onload=a.onerror=function(){a.onload=a.onerror=null;a=p;b()}}function P(a,b){var c;if(O)a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){"NS_ERROR_DOM_SECURITY_ERR"===d.name&&(c=!0)}setTimeout(function(){c?b():P(a,b)},1)}function ia(){}function na(){if(y)return y;if(z&&"interactive"===z.readyState)return z;for(var a=u.getElementsByTagName("script"),
b=0;b<a.length;b++){var c=a[b];if("interactive"===c.readyState)return z=c}}function n(a,b){this.uri=a;this.status=b||j.LOADING;this.dependencies=[];this.waitings=[]}function r(a,b){if(C(a)){var c=f.emitData("resolve",{id:a,refUri:b},"id");return M(c,b)}return Q(a,function(a){return r(a,b)})}function oa(a,b){function c(){delete I[d];R[d]=!0;A&&(S(a,A),A=null);var b,c=B[d];for(delete B[d];b=c.shift();)b()}var d=f.emitData("fetch",{uri:a});if(R[d])b();else if(I[d])B[d].push(b);else{I[d]=!0;B[d]=[b];
var e=i.charset;!f.emitData("request",{uri:d,callback:c,charset:e},"requested")&&ga(d,c,e)}}function pa(a,b,c){var d=arguments.length;1===d?(c=a,a=p):2===d&&(c=b,b=p,T(a)&&(b=a,a=p));if(!T(b)&&x(c)){var d=c.toString(),e=[],g;U.lastIndex=0;for(d=d.replace(qa,"");g=U.exec(d);)g[2]&&e.push(g[2]);b=E(e)}var d={id:a,dependencies:b,factory:c},h;!a&&document.attachEvent&&((e=na())&&e.src?(h=e.hasAttribute?e.src:e.getAttribute("src",4),h=f.emitData("derived",{uri:h})):t("Failed to derive URI from interactive script for:",
c.toString(),"warn"));(h=a?r(a):h)?S(h,d):A=d}function S(a,b){var c=k[a]||(k[a]=new n(a));c.status<j.SAVED&&(c.id=b.id||a,c.dependencies=r(V(b.dependencies||[],function(a){return!!a}),a),c.factory=b.factory,c.status=j.SAVED);return c}function W(a){var b=i.preload.slice();i.preload=[];b.length?X.use(b,a):a()}function Y(a){return V(a,function(a){return!k[a]||k[a].status<j.LOADED})}function Z(a){var b=a.waitings;if(0===b.length)return!1;v.push(a.uri);a=b.concat(v);if(a.length>E(a).length)return!0;for(a=
0;a<b.length;a++)if(Z(k[b[a]]))return!0;v.pop();return!1}function ra(a){a.push(a[0]);t("Found circular dependencies:",a.join(" --\> "))}function sa(){var a=[],b=o.location.search,b=b.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),b=b+(" "+document.cookie);b.replace(/seajs-(\w+)=[1-9]/g,function(b,d){a.push(d)});return E(a)}if(!o.seajs){var f={version:"2.0.0-dev"},i={debug:"",preload:[]},g=[],D=void 0,T=Array.isArray||function(a){return"[object Array]"===D.call(a)},q=g.forEach?function(a,b){a.forEach(b)}:function(a,
b){for(var c=0,d=a.length;c<d;c++)b(a[c],c,a)},Q=g.map?function(a,b){return a.map(b)}:function(a,b){var c=[];q(a,function(a,e,f){c.push(b(a,e,f))});return c},V=g.filter?function(a,b){return a.filter(b)}:function(a,b){var c=[];q(a,function(a,e,f){b(a,e,f)&&c.push(a)});return c},K=Object.keys||function(a){for(var b in a)(void 0).apply(a,b);return[]},s={};f.on=function(a,b){if(!b)return this;(s[a]||(s[a]=[])).push(b);return this};f.off=function(a,b){if(!a&&!b)return s={},this;var c=s[a];if(c)if(b)for(var d=
c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1);else delete s[a];return this};f.emit=function(a){var b=s[a];if(!b)return this;for(var c=[],d=1,e=arguments.length;d<e;d++)c[d-1]=arguments[d];b=b.slice();q(b,function(a){a.apply(o,c)});return this};f.emitData=function(a,b,c){this.emit(a,b);return b[c||K(b)[0]]};var l=o.console,aa=/[^?]*(?=\/.*$)/,G=/([^:\/])\/\/+/g,ea=/\.(?:css|js)|\/$/,da=/^(.*?\w)(?:\/|$)/,ca=/{([^{}]+)}/g,g=o.location,m=g.protocol+"//"+g.host+fa(g.pathname);0<m.indexOf("\\")&&(m=m.replace(/\\/g,
"/"));var g=document,u=g.head||g.getElementsByTagName("head")[0]||g.documentElement,N=u.getElementsByTagName("base")[0],ha=/\.css(?:\?|$)/i,la=/loaded|complete|undefined/,y,z,g=navigator.userAgent,O=536>Number(g.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),ma=0<g.indexOf("Firefox")&&!("onload"in document.createElement("link")),U=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,qa=/\\\\/g,k={},J=[],j=
{LOADING:1,SAVED:2,LOADED:3,COMPILING:4,COMPILED:5};n.prototype.use=function(a,b){C(a)&&(a=[a]);var c=r(a,this.uri);this.load(c,function(){W(function(){var a=Q(c,function(a){return a?k[a].compile():null});b&&b.apply(null,a)})})};n.prototype.load=function(a,b,c){function d(a){a&&a.status<j.LOADED&&(a.status=j.LOADED);0===--e&&b()}c=c||{};a=c.filtered?a:Y(a);c=a.length;if(0===c)b();else{f.emit("load",a);for(var e=c,g=0;g<c;g++)(function(a){function b(){if(c.status<j.SAVED)return d();Z(c)&&(ra(v),v.length=
0,d(c));var a=c.waitings=Y(c.dependencies);if(0===a.length)return d(c);n.prototype.load(a,function(){d(c)},{filtered:!0})}var c=k[a]||(k[a]=new n(a,void 0));c.status<j.SAVED?oa(a,b):b()})(a[g])}};n.prototype.compile=function(){function a(a){a=r(a,b.uri);a=k[a];if(!a)return null;if(a.status===j.COMPILING)return a.exports;a.parent=b;return a.compile()}var b=this;if(b.status===j.COMPILED)return b.exports;f.emit("compile",b);if(b.status<j.SAVED&&!b.exports)return null;J.push(b);b.status=j.COMPILING;a.async=
function(a,c){b.use(a,c)};a.resolve=function(a){return r(a,b.uri)};a.cache=k;b.require=a;b.exports=b.exports||{};var c=b.factory,d=c;x(c)&&(d=c(b.require,b.exports,b));d!==p&&(b.exports=d);b.status=j.COMPILED;J.pop();f.emit("compiled",b);return b.exports};var I={},R={},B={},A=null,v=[],X=new n(m,j.COMPILED);f.use=function(a,b){W(function(){X.use(a,b)});return f};f.cache=k;g=document.getElementById("seajsnode");g||(g=document.getElementsByTagName("script"),g=g[g.length-1]);var w=g&&(g.hasAttribute?
g.src:g.getAttribute("src",4))||m,ta=w=F(w),$=w.match(/^(.+\/)seajs\/[\.\d]+(?:-dev)?\/$/);$&&(w=$[1]);i.base=w;i.main=g&&g.getAttribute("data-main");i.charset="utf-8";f.config=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=i[b],d=a[b];if(c&&(b==="alias"||b==="vars"))for(var e in d){if(d.hasOwnProperty(e)){var g=c[e],h=d[e];g&&g!==h&&t("The alias config is conflicted:","key =",'"'+e+'"',"previous =",'"'+g+'"',"current =",'"'+h+'"',"warn");c[e]=h}}else if(c&&(b==="map"||b==="preload")){C(d)&&
(d=[d]);q(d,function(a){a&&c.push(a)})}else i[b]=d}if((a=i.base)&&!H(a))i.base=M((a.charAt(0)==="/"&&a.charAt(1)!=="/"?"":"./")+a+"/");f.debug=!!i.debug;return this};f.debug=!!i.debug;f.log=t;f.config({vars:{seajs:ta}});q(sa(),function(a){f.use("{seajs}/plugin-"+a);if(a==="debug"){f._use=f.use;f._useArgs=[];f.use=function(){f._useArgs.push(arguments);return f}}});o.define=pa;i.main&&f.use(i.main);f.pluginSDK={config:i,cachedModules:k,compilingStack:J,STATUS:j}}})(this);
