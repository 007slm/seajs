/*
 SeaJS v2.0.0-beta | seajs.org/LICENSE.md
*/
'use strict';(function(m,n){function B(b){return"function"===typeof b}function J(b){for(var c={},a=[],d=0,f=b.length;d<f;d++){var h=b[d];1!==c[h]&&(c[h]=1,a.push(h))}return a}function C(b,c,a){t(b,c);return c[a]}function R(b){b=b.match(ea);return(b?b[0]:".")+"/"}function K(b,c){if(!b)return"";var a=b,d=k.alias,f;if(f=d)if(f=D.call(d,a)){f=a;var h=f.charAt(0);f=-1===f.indexOf("://")&&"."!==h&&"/"!==h}f&&(a=d[a]);var L=k.vars;L&&-1<a.indexOf("{")&&(a=a.replace(fa,function(a,b){return D.call(L,b)?L[b]:
"{"+b+"}"}));d=c||E;0<a.indexOf("://")||0===a.indexOf("//")||(0===a.indexOf("./")||0===a.indexOf("../")?(0===a.indexOf("./")&&(a=a.substring(2)),a=R(d)+a):a="/"===a.charAt(0)&&"/"!==a.charAt(1)?d.match(ga)[1]+a:k.base+a);7<a.lastIndexOf("//")&&(a=a.replace(ha,"$1/"));if(-1!==a.indexOf(".")){d=a.split("/");f=[];for(var e=0;e<d.length;e++)if(h=d[e],".."===h){if(0===f.length)throw Error("The path is invalid: "+a);f.pop()}else"."!==h&&f.push(h);a=f.join("/")}"#"===a.charAt(a.length-1)?a=a.slice(0,-1):
ia.test(a)||(a+=".js");a=a.replace(":80/","/");d=k.map||[];e=a;if(f=d.length)for(h=0;h<f&&!(e=d[h],e=B(e)?e(a)||a:a.replace(e[0],e[1]),e!==a);h++);return e}function S(b,c){var a=b.sheet,d;if(T)a&&(d=!0);else if(a)try{a.cssRules&&(d=!0)}catch(f){"NS_ERROR_DOM_SECURITY_ERR"===f.name&&(d=!0)}setTimeout(function(){d?c():S(b,c)},1)}function ja(){if(F)return F;if(G&&"interactive"===G.readyState)return G;for(var b=y.getElementsByTagName("script"),c=b.length-1;0<=c;c--){var a=b[c];if("interactive"===a.readyState)return G=
a}}function z(b,c){this.uri=b;this.status=c||l.INITIALIZED;this.dependencies=[];this.waitings=[]}function A(b,c){if(u(b)){for(var a=[],d=0,f=b.length;d<f;d++)a[d]=A(b[d],c);return a}a={id:b,refUri:c,id2Uri:K};d=C("resolve",a,"id");return a.uri||K(d,c)}function U(b,c,a){function d(a){a&&a.status<l.LOADED&&(a.status=l.LOADED);0===--f&&c()}a=a||{};b=a.filtered?b:V(b);if(0===b.length)c();else{t("load",b);for(var f=a=b.length,e=0;e<a;e++)(function(a){function b(){if(c.status<l.SAVED)d();else if(W(c)){var a=
v;a.push(a[0]);M("Found circular dependencies: "+a.join(" --\x3e "));v.length=0;d()}else a=c.waitings=V(c.dependencies),0===a.length?d(c):U(a.slice(),function(){d(c)},{filtered:!0})}var c=q[a];if(c.status<l.SAVED){var f=function(){delete N[e];O[e]=!0;H&&(X(a,H),H=null);var b,c=I[e];for(delete I[e];b=c.shift();)b()};q[a].status=l.FETCHING;var e=C("fetch",{uri:a,fetchedList:O},"requestUri")||a;if(O[e])b();else if(N[e])I[e].push(b);else{N[e]=!0;I[e]=[b];var h=k.charset,g={uri:a,requestUri:e,callback:f,
charset:h};if(!C("request",g,"requested")){var g=g.requestUri,j=ka.test(g),p=r.createElement(j?"link":"script");if(h&&(h=B(h)?h(g):h))p.charset=h;if("SCRIPT"===p.nodeName){var s=p;s.onload=s.onerror=s.onreadystatechange=function(){la.test(s.readyState)&&(s.onload=s.onerror=s.onreadystatechange=null,k.debug||y.removeChild(s),s=n,f&&f())}}else{var m=p;T||ma?setTimeout(function(){S(m,f)},1):m.onload=m.onerror=function(){m.onload=m.onerror=null;m=n;f&&f()}}j?(p.rel="stylesheet",p.href=g):(p.async=!0,
p.src=g);F=p;Y?y.insertBefore(p,Y):y.appendChild(p);F=null}}}else b()})(b[e])}}function na(b,c,a){var d=arguments.length;1===d?(a=b,b=n):2===d&&(a=c,c=n,u(b)&&(c=b,b=n));if(!u(c)&&B(a)){var d=a.toString(),f=[],e;Z.lastIndex=0;for(d=d.replace(oa,"");e=Z.exec(d);)e[2]&&f.push(e[2]);c=f}var d={id:b,dependencies:c,factory:a},g;!b&&r.attachEvent&&((f=ja())&&f.src?(g=f.hasAttribute?f.src:f.getAttribute("src",4),g=C("derived",{uri:g},"uri")):M("Failed to derive script: "+a));(g=b?A(b):g)?X(g,d):H=d}function X(b,
c){var a=q[b]||(q[b]=new z(b,void 0));a.status<l.SAVED&&(a.id=c.id||b,a.dependencies=J(A(c.dependencies||[],b)),a.factory=c.factory,a.status=l.SAVED,t("saved",a))}function $(b){function c(a){a=q[c.resolve(a)];if(a===n)return null;a.parent=b;return $(a)}if(!b)return null;if(b.status>=l.COMPILING)return b.exports;t("compile",b);if(b.status<l.LOADED&&b.exports===n)return null;b.status=l.COMPILING;c.async=function(a,d){b.load(a,d);return c};c.resolve=function(a){return A(a,b.uri)};c.cache=q;var a=b.factory,
d=a===n?b.exports:a;B(a)&&(d=a(c,b.exports={},b));b.exports=d===n?b.exports:d;b.status=l.COMPILED;t("compiled",b);return b.exports}function V(b){for(var c=[],a=0,d=b.length;a<d;a++){var f=b[a];f&&(q[f]||(q[f]=new z(f,void 0))).status<l.LOADED&&c.push(f)}return c}function W(b){var c=b.waitings;if(0===c.length)return!1;v.push(b.uri);b=c.concat(v);if(J(b).length<b.length){b=v[0];for(var a=c.length-1;0<=a;a--)if(c[a]===b){c.splice(a,1);break}return!0}for(b=0;b<c.length;b++)if(W(q[c[b]]))return!0;v.pop();
return!1}function aa(b){var c=k.preload,a=c.length;a?ba.use(c.splice(0,a),function(){aa(b)}):b()}function P(b){for(var c in b){var a=b[c];if(D.call(b,c)&&a!==n){if("plugins"===c){c="preload";var d=[],f=void 0;for(u(a)||(a=[a]);f=a.shift();)d.push(ca+"plugin-"+f);a=d}if((d=k[c])&&/^(?:alias|vars)$/.test(c))for(var e in a){if(D.call(a,e)){f=a[e];if(e in d){var j=d[e];j!==f&&M("The config of "+c+'["'+e+'"] is changed from "'+j+'" to "'+f+'"',"warn")}d[e]=f}}else u(d)&&/^(?:map|preload)$/.test(c)&&(a=
d.concat(a)),k[c]=a,"base"===c&&(a=k.base,0<a.indexOf("://")||0===a.indexOf("//")||(k.base=K(("/"===a.charAt(0)&&"/"!==a.charAt(1)?"":"./")+a+("/"===a.charAt(a.length-1)?"":"/"))))}}t("config",k);return g}if(!m.seajs){var g=m.seajs={version:"2.0.0-beta"},D={}.hasOwnProperty,u=Array.isArray||function(b){return b instanceof Array},M=g.log=function(b,c){var a=m.console;if(a&&(c||k.debug))(a[c]||a.log).call(a,b)},w={};g.on=function(b,c){if(!c)return g;(w[b]||(w[b]=[])).push(c);return g};g.off=function(b,
c){if(!b&&!c)return w={},g;var a=w[b];if(a)if(c)for(var d=a.length-1;0<=d;d--)a[d]===c&&a.splice(d,1);else delete w[b];return g};var t=g.emit=function(b,c){var a=w[b],d;if(a)for(a=a.slice();d=a.shift();)d(c);return g},ea=/[^?]*(?=\/.*$)/,ha=/([^:\/])\/\/+/g,ia=/\?|\.(?:css|js)$|\/$/,ga=/^(.*?:\/\/.*?)(?:\/|$)/,fa=/{([^{}]+)}/g,r=document,j=m.location,E,e=j.pathname;"/"!==e.charAt(0)&&(e="/"+e);e=j.protocol+"//"+j.host+e;-1<e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));E=e;if(!(e=r.getElementById("seajs-node")))e=
r.getElementsByTagName("script"),e=e[e.length-1]||r.createElement("script");var ca=R((e.hasAttribute?e.src:e.getAttribute("src",4))||E),y=r.head||r.getElementsByTagName("head")[0]||r.documentElement,Y=y.getElementsByTagName("base")[0],ka=/\.css(?:\?|$)/i,la=/loaded|complete|undefined/,F,G,x=navigator.userAgent,T=536>Number(x.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),ma=0<x.indexOf("Firefox")&&!("onload"in r.createElement("link")),Z=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,
oa=/\\\\/g,q=g.cache={},l=z.STATUS={INITIALIZED:1,FETCHING:2,SAVED:3,LOADED:4,COMPILING:5,COMPILED:6};z.prototype.load=function(b,c){var a=A(u(b)?b:[b],this.uri);U(a,function(){for(var b=[],e=0,g=a.length;e<g;e++)b[e]=$(q[a[e]]);c&&c.apply(m,b)});return this};var N={},O={},I={},H=null,v=[],ba=new z(E,l.COMPILED);g.use=function(b,c){aa(function(){ba.load(b,c)});return g};m.define=na;var x=ca,da=x.match(/^(.+\/)seajs\/\d[^/]+\/$/);da&&(x=da[1]);var k=P.data={base:x,charset:"utf-8",preload:[]};g.config=
P;var Q=[],j=j.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),j=j+(" "+r.cookie);j.replace(/seajs-(\w+)=1/g,function(b,c){Q.push(c)});j=Q.length?J(Q):n;P({plugins:j});j=e.getAttribute("data-config");e=e.getAttribute("data-main");j&&k.preload.push(j);e&&g.use(e)}})(this);
//@ sourceMappingURL=sea.js.map