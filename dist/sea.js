/*
 SeaJS - A Module Loader for the Web
 v2.0.0-dev | seajs.org | MIT Licensed
*/
'use strict';(function(h,q){function E(a){return"[object Function]"===N.call(a)}function O(a){var c={};w(a,function(a){c[a]=1});return U(c)}function x(a,c,b){F(a,c);return c[b||U(c)[0]]}function G(a){a=a.match(ia);return(a?a[0]:".")+"/"}function V(a){P.lastIndex=0;P.test(a)&&(a=a.replace(P,"$1/"));if(-1===a.indexOf("."))return a;for(var c=a.split("/"),b=[],e,f=0;f<c.length;f++)if(e=c[f],".."===e){if(0===b.length)throw Error("The path is invalid: "+a);b.pop()}else"."!==e&&b.push(e);return b.join("/")}
function W(a,c){if(!a)return"";var b=a,e=m.alias,f;if(f=e)if(f=y.call(e,b)){f=b;var j=f.charAt(0);f=-1===f.indexOf("://")&&"."!==j&&"/"!==j}f&&(b=e[b]);var d=m.vars;d&&-1<b.indexOf("{")&&(b=b.replace(ja,function(a,b){return y.call(d,b)?d[b]:b}));e=c||z;Q(b)||(0===b.indexOf("./")||0===b.indexOf("../")?(0===b.indexOf("./")&&(b=b.substring(2)),b=G(e)+b):b="/"===b.charAt(0)&&"/"!==b.charAt(1)?e.match(ka)[1]+b:m.base+"/"+b);"#"===b.charAt(b.length-1)?b=b.slice(0,-1):!la.test(b)&&-1===b.indexOf("?")&&(b+=
".js");var b=b.replace(":80/","/"),b=a=V(b),e=m.map||[],n=b;if(f=e.length){for(j=0;j<f&&!(n=e[j],n=E(n)?n(b):b.replace(n[0],n[1]),n!==b);j++);Q(n)||(n=V(G(z)+n))}return n}function Q(a){return 0<a.indexOf("://")||0===a.indexOf("//")}function X(a,c){var b=a.sheet,e;if(Y)b&&(e=!0);else if(b)try{b.cssRules&&(e=!0)}catch(f){"NS_ERROR_DOM_SECURITY_ERR"===f.name&&(e=!0)}setTimeout(function(){e?c():X(a,c)},1)}function ma(){if(H)return H;if(I&&"interactive"===I.readyState)return I;for(var a=A.getElementsByTagName("script"),
c=a.length-1;0<=c;c--){var b=a[c];if("interactive"===b.readyState)return I=b}}function R(a,c){this.uri=a;this.status=c||k.LOADING;this.dependencies=[];this.waitings=[]}function B(a,c){if(J(a))return Z(a,function(a){return B(a,c)});var b;b=x("resolve",{id:a,refUri:c},"id");b=W(b,c);return b=x("resolved",{uri:b})}function $(a,c,b){function e(a){a&&a.status<k.LOADED&&(a.status=k.LOADED);0===--f&&c()}b=b||{};a=b.filtered?a:aa(a);if(0===a.length)c();else{F("load",a);for(var f=b=a.length,d=0;d<b;d++)(function(a){function b(){if(c.status<
k.SAVED)e();else if(ba(c)){var a=C;a.push(a[0]);K("Found circular dependencies:",a.join(" --\x3e "));C.length=0;e(c)}else a=c.waitings=aa(c.dependencies),0===a.length?e(c):$(a,function(){e(c)},{filtered:!0})}var c=t[a];if(c.status<k.SAVED){var f=function(){delete S[d];T[d]=!0;L&&(ca(a,L),L=null);var b,c=M[d];for(delete M[d];b=c.shift();)b()},d=x("fetch",{uri:a,fetchedList:T},"uri");if(T[d])b();else if(S[d])M[d].push(b);else{S[d]=!0;M[d]=[b];var j=m.charset;if(!x("request",{uri:d,callback:f,charset:j},
"requested")){var g=d,l=na.test(g),p=r.createElement(l?"link":"script");if(j&&(j=E(j)?j(g):j))p.charset=j;if("SCRIPT"===p.nodeName){var s=p;s.onload=s.onerror=s.onreadystatechange=function(){oa.test(s.readyState)&&(s.onload=s.onerror=s.onreadystatechange=null,m.debug||A.removeChild(s),s=q,f&&f())}}else{var h=p;Y||pa?(K("Start css polling"),setTimeout(function(){X(h,f)},1)):h.onload=h.onerror=function(){h.onload=h.onerror=null;h=q;f&&f()}}l?(p.rel="stylesheet",p.href=g):(p.async="async",p.src=g);H=
p;da?A.insertBefore(p,da):A.appendChild(p);H=null}}}else b()})(a[d])}}function qa(a,c,b){var e=arguments.length;1===e?(b=a,a=q):2===e&&(b=c,c=q,J(a)&&(c=a,a=q));if(!J(c)&&E(b)){var e=b.toString(),f=[],d;ea.lastIndex=0;for(e=e.replace(ra,"");d=ea.exec(e);)d[2]&&f.push(d[2]);c=O(f)}var e={id:a,dependencies:c,factory:b},g;!a&&r.attachEvent&&((f=ma())&&f.src?(g=f.hasAttribute?f.src:f.getAttribute("src",4),g=x("derived",{uri:g})):K("Failed to derive URI from interactive script for:",b.toString(),"warn"));
(g=a?B(a):g)?ca(g,e):L=e}function ca(a,c){var b=t[a];b.status<k.SAVED&&(b.id=c.id||a,b.dependencies=B(c.dependencies||[],a),b.factory=c.factory,b.status=k.SAVED)}function fa(a){function c(b){b=t[c.resolve(b)];if(b===q)return null;b.parent=a;return fa(b)}if(a.status>=k.COMPILING)return a.exports;F("compile",a);if(a.status<k.LOADED&&a.exports===q)return null;a.status=k.COMPILING;c.async=function(b,c){a.load(b,c)};c.resolve=function(b){return B(b,a.uri)};c.cache=t;a.require=c;a.exports=a.exports||{};
delete a.waitings;var b=a.factory,e=b;E(b)&&(e=b(a.require,a.exports,a));e!==q&&(a.exports=e);a.status=k.COMPILED;F("compiled",a);return a.exports}function aa(a){return sa(a,function(a){return(t[a]||(t[a]=new R(a,void 0))).status<k.LOADED})}function ba(a){var c=a.waitings;if(0===c.length)return!1;C.push(a.uri);a=c.concat(C);if(O(a).length<a.length)return!0;for(a=0;a<c.length;a++)if(ba(t[c[a]]))return!0;C.pop();return!1}function ta(){var a=[],c=h.location.search,c=c.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),
c=c+(" "+r.cookie);c.replace(/seajs-(\w+)=1/g,function(b,c){a.push("{seajs}/plugin-"+c)});return O(a)}if(!h.seajs){var g=h.seajs={version:"2.0.0-dev"},d=[],l={},N=l.toString,y=l.hasOwnProperty,ua=d.slice,J=Array.isArray||function(a){return"[object Array]"===N.call(a)},w=d.forEach?function(a,c){a.forEach(c)}:function(a,c){for(var b=0,e=a.length;b<e;b++)c(a[b],b,a)},Z=d.map?function(a,c){return a.map(c)}:function(a,c){var b=[];w(a,function(a,f,d){b.push(c(a,f,d))});return b},sa=d.filter?function(a,
c){return a.filter(c)}:function(a,c){var b=[];w(a,function(a,d,g){c(a,d,g)&&b.push(a)});return b},U=Object.keys||function(a){var c=[],b;for(b in a)y.call(a,b)&&c.push(b);return c},D=h.console,K=g.log=function(){if(D!==q){var a=ua.call(arguments),c=D[a[a.length-1]]?a.pop():"log";if("log"!==c||m.debugMode)c=D[c],c=c.apply?c:Function.prototype.bind.call(c,D),c.apply(D,a)}},u={};g.on=function(a,c){if(!c)return g;(u[a]||(u[a]=[])).push(c);return g};g.off=function(a,c){if(!a&&!c)return u={},g;var b=u[a];
if(b)if(c)for(var e=b.length-1;0<=e;e--)b[e]===c&&b.splice(e,1);else delete u[a];return g};var F=g.emit=function(a){var c=u[a];if(!c)return g;for(var b=[],e=1,d=arguments.length;e<d;e++)b[e-1]=arguments[e];c=c.slice();w(c,function(a){a.apply(h,b)});return g},ia=/[^?]*(?=\/.*$)/,P=/([^:\/])\/\/+/g,la=/\.(?:css|js)|\/$/,ka=/^(.*?\w)(?:\/|$)/,ja=/{([^{}]+)}/g,r=document,z,d=h.location,l=d.pathname;"/"!==l.charAt(0)&&(l="/"+l);d=d.protocol+"//"+d.host+l;-1<d.indexOf("\\")&&(d=d.replace(/\\/g,"/"));z=
d;if(!(d=r.getElementById("seajs-node")))d=r.getElementsByTagName("script"),d=d[d.length-1]||r.createElement("script");var l=(d.hasAttribute?d.src:d.getAttribute("src",4))||z,A=r.head||r.getElementsByTagName("head")[0]||r.documentElement,da=A.getElementsByTagName("base")[0],na=/\.css(?:\?|$)/i,oa=/loaded|complete|undefined/,H,I,v=navigator.userAgent,Y=536>Number(v.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")),pa=0<v.indexOf("Firefox")&&!("onload"in r.createElement("link")),ea=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,
ra=/\\\\/g,t=g.cache={},k={LOADING:1,SAVED:2,LOADED:3,COMPILING:4,COMPILED:5};R.prototype.load=function(a,c){var b=B(J(a)?a:[a],this.uri);$(b,function(){var a=Z(b,function(a){return fa(t[a])});c&&c.apply(h,a)})};var S={},T={},M={},L=null,C=[],ga=new R(z,k.COMPILED);g.use=function(a,c){var b=function(){ga.load(a,c)},e=m.preload,d=e.length;d?ga.load(e.splice(0,d),b):b();return g};h.define=qa;var v=G(l),ha=v.match(/^(.+\/)seajs\/[\.\d]+(?:-dev)?\/$/);ha&&(v=ha[1]);var m={base:v,charset:"utf-8"};g.config=
function(a){for(var c in a)if(y.call(a,c)){var b=m[c],e=a[c];if(b===q)m[c]=e;else if("alias"===c||"vars"===c)for(var d in e){if(y.call(e,d)){var j=b[d],h=e[d];j&&j!==h&&K("The "+c+" config is conflicted:","key =",'"'+d+'"',"previous =",'"'+j+'"',"current =",'"'+h+'"',"warn");b[d]=h}}else if("map"===c||"preload"===c)"[object String]"===N.call(e)&&(e=[e]),w(e,function(a){b.push(a)})}a.base&&(a=m.base,Q(a)||(m.base=W(("/"===a.charAt(0)&&"/"!==a.charAt(1)?"":"./")+a+"/")));return g};g.config({vars:{seajs:G(l)},
preload:ta()});(d=d.getAttribute("data-main"))&&g.use(d)}})(this);
